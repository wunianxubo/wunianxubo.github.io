<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Wunian"><title>Wunian's Blog | 清风徐来，水波不兴</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Wunian's Blog</h1><a id="logo" href="/.">Wunian's Blog</a><p class="description">清风徐来，水波不兴</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2018/07/14/Spring源码解析之AOP设计与实现/">Spring源码解析之AOP设计与实现</a></h1><div class="post-meta">2018-07-14</div><div class="post-content"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>AOP即面向切面编程，底层通过策略模式选择JDK动态代理还是CGLIB动态代理的方式实现，通过AOP可以在不修改原代码的基础上完成对类的功能的增强。相较于继承这种纵向抽取机制，AOP采用的横向抽取机制更加符合高内聚低耦合的思想。  </p>
<h3 id="AOP相关概念"><a href="#AOP相关概念" class="headerlink" title="AOP相关概念"></a>AOP相关概念</h3><ul>
<li>连接点：类中哪些方法可以被增强，这些方法称为连接点</li>
<li>切入点(Pointcut)：类中有很多可以被增强的方法，而实际选用的被增强方法就是切入点</li>
<li>通知(Advice)：定义增强的逻辑，即在切入点做什么增强操作，有BeforeAdvice、AfterAdvice、ThrowsAdvice等</li>
<li>通知器(Advisor)：将目标方法的切面增强设计(Advice)和切入点(Pointcut)结合起来。通过Advisor，可以定义使用哪个通知并在哪个Pointcut使用它，也就是给指定的Pointcut指定对应的Advice  </li>
</ul></div><p class="readmore"><a href="/2018/07/14/Spring源码解析之AOP设计与实现/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/06/25/负载均衡那些事/">负载均衡那些事</a></h1><div class="post-meta">2018-06-25</div><div class="post-content"><p>在网站的架构设计中，应用服务器应该被设计成无状态的，也就是说应用服务器不存储请求上下文信息。这样子的话，如果将部署相同应用的服务器组成一个集群，每次用户请求都可以发送到集群中任何一台服务器上进行请求处理，任何一台服务器的处理结果都是相同的。通过使用这种方式，让网站的可用性、伸缩性更好，能够处理更大的流量，这种方式称为”负载均衡”。在这篇文章中，我们一起来学习负载均衡，主要分下面三个部分来将，会依次介绍常用的负载均衡技术，常用的负载均衡算法以及这些负载均衡层在实际案例中的使用方式。<br></div><p class="readmore"><a href="/2018/06/25/负载均衡那些事/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/06/16/Netty之EventLoop与线程模型 /">Netty之EventLoop与线程模型</a></h1><div class="post-meta">2018-06-16</div><div class="post-content"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>首先，线程模型指定了操作系统、编程语言或者应用程序的<em>上下文中的线程管理</em>的关键方面。Netty的线程模型，强大而又易用，在简化代码的同时，最大限度的提高性能和可维护性。学习这部分可能需要有一定的多线程的知识的基础，可以看看《Java并发编程实战》或者《并发编程的艺术》这两本书。<br></div><p class="readmore"><a href="/2018/06/16/Netty之EventLoop与线程模型 /">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/06/15/Netty 之组件与设计 /">Netty之组件与设计</a></h1><div class="post-meta">2018-06-15</div><div class="post-content"><h3 id="一、Channel、EventLoop、ChannelFuture"><a href="#一、Channel、EventLoop、ChannelFuture" class="headerlink" title="一、Channel、EventLoop、ChannelFuture"></a>一、Channel、EventLoop、ChannelFuture</h3><p>这些类合在一起，可以被认为是Netty网络抽象的代表：  </p>
<ul>
<li>Channel——Socket</li>
<li>EventLoop——控制流、多线程处理、并发处理</li>
<li>ChannelFuture——异步通知</div><p class="readmore"><a href="/2018/06/15/Netty 之组件与设计 /">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/06/14/Netty之构建Netty应用程序/">Netty之构建Netty应用程序</a></h1><div class="post-meta">2018-06-14</div><div class="post-content"><h3 id="一、编写Netty服务器"><a href="#一、编写Netty服务器" class="headerlink" title="一、编写Netty服务器"></a>一、编写Netty服务器</h3><p>所有的Netty服务器都需要以下两个部分：  </p>
<ul>
<li>至少一个ChannelHandler——用于处理服务器从客户端接收的数据  </li>
<li>引导Bootstrap——这是配置服务器的启动代码，会将服务器绑定到它要监听连接请求的端口上</div><p class="readmore"><a href="/2018/06/14/Netty之构建Netty应用程序/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/06/13/Netty剖析之核心组件/">Netty剖析之核心组件</a></h1><div class="post-meta">2018-06-13</div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在之前的博文《Java NIO原理解析》里面，主要讲了NIO的一些原理，几种IO模型的对比，NIO中三个重要的组件Channel，Selector以及Buffer，通过Selector单线程轮询状态实现了IO复用机制，这些在这就不重新讨论了。  </p>
<p>然而，原生的NIO方法比较复杂，Netty进行了很好的封装，提供更易于使用的API，性能更好，健壮性、安全性也很好，在很多地方都能见到Netty的身影，比如阿里的Dubbo分布式框架，底层就使用Netty作为网络通信框架，接下来会用几篇博文来详细讲下Netty这个高性能的网络框架。<br></div><p class="readmore"><a href="/2018/06/13/Netty剖析之核心组件/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/05/11/Spring源码解析之IOC容器（二）/">Spring源码解析之IOC容器（二）</a></h1><div class="post-meta">2018-05-11</div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>上一篇，我们主要分析了IOC容器初始化过程中，BeanDifinitions的定位、载入解析以及注册的流程。在这篇文章，我们会来谈一谈IOC容器的依赖注入及其他相关特性的分析。</p>
<h2 id="IOC容器的依赖注入"><a href="#IOC容器的依赖注入" class="headerlink" title="IOC容器的依赖注入"></a>IOC容器的依赖注入</h2><p>依赖注入的过程是用户第一次向IOC容器索要Bean时出发的，即使用getBean()方法时。当然也有例外，当我们设置了lazy-init属性后，会让容器完成对Bean的预实例化，这个这个预实例化其实也是一个依赖注入的过程，只是时机和场景不同。（可见refresh方法中的注解）<br></div><p class="readmore"><a href="/2018/05/11/Spring源码解析之IOC容器（二）/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/04/20/Spring源码解析之IOC容器（一）/">Spring源码解析之IOC容器（一）</a></h1><div class="post-meta">2018-04-20</div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一直想阅读下Spring的源码，但是翻翻书又感觉这个好复杂，不想去看，所以一直拖到现在，昨天定下心看了下书，觉得并没有那么晦涩难懂，还是要克服惧怕未接触的事物，敢于去克服自己的弱点。主要先看Spring的两大核心IOC和AOP，参考书籍是计文柯的《Spring技术内幕》。这篇文章主要先讲下IOC容器的内部实现。  </p>
<h2 id="IOC容器简介"><a href="#IOC容器简介" class="headerlink" title="IOC容器简介"></a>IOC容器简介</h2><p>IOC即控制反转，这里的反转指的是对象依赖关系的管理被反转了，转到IOC容器上了，对象之间的相互依赖关系由IOC容器进行管理，并由容器完成对象的注入。  </p></div><p class="readmore"><a href="/2018/04/20/Spring源码解析之IOC容器（一）/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/04/16/谈谈分布式事务/">谈谈分布式事务</a></h1><div class="post-meta">2018-04-16</div><div class="post-content"><h2 id="什么是分布式事务"><a href="#什么是分布式事务" class="headerlink" title="什么是分布式事务"></a>什么是分布式事务</h2><p>一个事务由多个不同的小操作组成，这些小的操作分布在不同的服务器上，且属于不同的应用，分布式事务需要确保这些小的操作要么全部成功，要么全部失败。从本质上说，分布式事务是为了保证不同数据库之间的一致性。分布式事务的应用场景主要是在支付和在线下单，支付涉及到扣款和加钱，而在线下单则涉及到扣库存和更新账单，需要分布式事务来保证一致性。    </p></div><p class="readmore"><a href="/2018/04/16/谈谈分布式事务/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2018/04/12/浅谈分库分表/">浅谈分库分表</a></h1><div class="post-meta">2018-04-12</div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><h3 id="什么是分库分表？"><a href="#什么是分库分表？" class="headerlink" title="什么是分库分表？"></a>什么是分库分表？</h3><p>从字面上简单理解，就是把原本存储于一个库的数据分块存储到多个库上，把原本存储于一个表的数据分块存储到多个表上。  </p>
<h3 id="为什么要分库分表？"><a href="#为什么要分库分表？" class="headerlink" title="为什么要分库分表？"></a>为什么要分库分表？</h3><p>数据库中的数据量不一定是可控的，在未进行分库分表的情况下，随着时间和业务的发展，库中的表会越来越多，表中的数据量也会越来越大，相应地，数据操作，增删改查的开销也会越来越大；另外，由于无法进行分布式部署，而一台服务器的资源（CPU、磁盘、内存、IO等）是有限的，最终数据库所能承载的数据量、数据处理能力都将遭遇瓶颈。  </p>
<h3 id="常用的分库分表中间件"><a href="#常用的分库分表中间件" class="headerlink" title="常用的分库分表中间件"></a>常用的分库分表中间件</h3><p>简单易用的组件：  </p>
<ul>
<li>当当sharding-jdbc  </li>
<li>蘑菇街TSharding  </li>
</ul>
<p>强悍重量级的中间件：  </p>
<ul>
<li>sharding  </li>
<li>TDDL Smart Client的方式（淘宝）  </li>
<li>Atlas(Qihoo 360)  </li>
<li>alibaba.cobar(是阿里巴巴（B2B）部门开发)  </li>
<li>MyCAT（基于阿里开源的Cobar产品而研发）  </li>
<li>Oceanus(58同城数据库中间件)  </li>
<li>OneProxy(支付宝首席架构师楼方鑫开发)  </li>
<li>vitess（谷歌开发的数据库中间件）  </li>
</ul></div><p class="readmore"><a href="/2018/04/12/浅谈分库分表/">Read More</a></p></div><nav class="page-navigator"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/">Next</a></nav><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Netty/">Netty</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring源码解析/">Spring源码解析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java基础/">java基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java并发/">java并发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/分布式系统/">分布式系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/剑指offer/">剑指offer</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/大型网站技术架构核心原理/">大型网站技术架构核心原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/操作系统/">操作系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构与算法/">数据结构与算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/深入理解Java虚拟机/">深入理解Java虚拟机</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/多线程/" style="font-size: 15px;">多线程</a> <a href="/tags/算法，剑指offer/" style="font-size: 15px;">算法，剑指offer</a> <a href="/tags/数据结构/" style="font-size: 15px;">数据结构</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/java并发/" style="font-size: 15px;">java并发</a> <a href="/tags/java基础/" style="font-size: 15px;">java基础</a> <a href="/tags/java，java基础/" style="font-size: 15px;">java，java基础</a> <a href="/tags/java虚拟机/" style="font-size: 15px;">java虚拟机</a> <a href="/tags/Netty/" style="font-size: 15px;">Netty</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/操作系统/" style="font-size: 15px;">操作系统</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/源码解析/" style="font-size: 15px;">源码解析</a> <a href="/tags/AQS/" style="font-size: 15px;">AQS</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/大型网站技术架构/" style="font-size: 15px;">大型网站技术架构</a> <a href="/tags/分布式系统/" style="font-size: 15px;">分布式系统</a> <a href="/tags/分布式/" style="font-size: 15px;">分布式</a> <a href="/tags/volatile/" style="font-size: 15px;">volatile</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/07/14/Spring源码解析之AOP设计与实现/">Spring源码解析之AOP设计与实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/25/负载均衡那些事/">负载均衡那些事</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/16/Netty之EventLoop与线程模型 /">Netty之EventLoop与线程模型</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/15/Netty 之组件与设计 /">Netty之组件与设计</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/14/Netty之构建Netty应用程序/">Netty之构建Netty应用程序</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/13/Netty剖析之核心组件/">Netty剖析之核心组件</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/11/Spring源码解析之IOC容器（二）/">Spring源码解析之IOC容器（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/20/Spring源码解析之IOC容器（一）/">Spring源码解析之IOC容器（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/16/谈谈分布式事务/">谈谈分布式事务</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/12/浅谈分库分表/">浅谈分库分表</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://www.ruanyifeng.com/blog/" title="阮一峰" target="_blank">阮一峰</a><ul></ul><a href="https://coolshell.cn/" title="陈皓" target="_blank">陈皓</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">Wunian's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>